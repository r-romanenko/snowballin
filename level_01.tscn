[gd_scene load_steps=11 format=3 uid="uid://co60ll2iitdm5"]

[ext_resource type="MeshLibrary" uid="uid://i2wxojilu4tw" path="res://blocks.meshlib" id="1_a5prr"]
[ext_resource type="Script" path="res://death_zone.gd" id="1_cufvx"]
[ext_resource type="PackedScene" uid="uid://clniwrvskmnd2" path="res://ball.tscn" id="2_4w8h2"]
[ext_resource type="Script" path="res://ball.gd" id="3_8ajf4"]
[ext_resource type="Script" path="res://victory_zone.gd" id="5_q6qtb"]

[sub_resource type="BoxShape3D" id="BoxShape3D_7yh47"]
size = Vector3(150, 1, 150)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_a06m0"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_4x0yd"]
sky_material = SubResource("ProceduralSkyMaterial_a06m0")

[sub_resource type="Environment" id="Environment_x6txn"]
background_mode = 1
background_color = Color(0.243248, 0.46556, 1, 1)
sky = SubResource("Sky_4x0yd")
tonemap_mode = 3
adjustment_enabled = true
adjustment_brightness = 0.75
adjustment_contrast = 1.5
adjustment_saturation = 1.2

[sub_resource type="BoxShape3D" id="BoxShape3D_din3b"]
size = Vector3(2, 1, 2)

[node name="level01" type="Node3D"]

[node name="DeathZone" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, 0)
script = ExtResource("1_cufvx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="DeathZone"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -10, 0)
shape = SubResource("BoxShape3D_7yh47")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true
shadow_reverse_cull_face = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_x6txn")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_a5prr")
cell_size = Vector3(4, 4, 4)
cell_center_x = false
cell_center_y = false
cell_center_z = false
data = {
"cells": PackedInt32Array(0, 0, 0, 0, 65535, 0, 0, 65534, 0, 65535, 65534, 0, 65535, 65533, 0, 65535, 65532, 0, 65535, 65531, 0, 65535, 65530, 0, 65535, 65529, 0, 65534, 65529, 0, 65534, 65528, 0, 65534, 65525, 5, 65533, 65529, 4, 65535, 65527, 4, 65535, 65528, 4, 2, 65534, 2)
}
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="Ball" parent="GridMap" instance=ExtResource("2_4w8h2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mass = 2.501
script = ExtResource("3_8ajf4")
jump_impulse = 10

[node name="Victory Zone" type="Area3D" parent="."]
script = ExtResource("5_q6qtb")
NEXT_LEVEL = "res://level_02.tscn"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Victory Zone"]
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, -8, -1.50236, -44)
shape = SubResource("BoxShape3D_din3b")

[connection signal="body_entered" from="DeathZone" to="DeathZone" method="_on_body_entered"]
[connection signal="body_entered" from="GridMap/Ball" to="DeathZone" method="_on_ball_body_entered"]
[connection signal="body_entered" from="Victory Zone" to="Victory Zone" method="_on_body_entered"]
